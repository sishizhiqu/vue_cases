<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>axios</title>
</head>
<body>
    <script src="https://cdn.bootcdn.net/ajax/libs/axios/0.27.2/axios.js"></script>
    <script type="text/javascript" >
        /* 
            axios是根据xhr和promise封装而来的一个http库（插件）
            http请求：
                - 一般请求
                - ajax请求

            今后我们用来发送ajax请求最多的工具，就是axios
            引入之后暴露给我们的是一个函数
            axios是一个函数，也是函数对象
            axios有两种用法，函数用法和对象用法
            axios()  函数
            axios.get() 函数对象的用法


            请求方式： 一般普通的http请求就是get和post
                       ajax请求： get  post  put  delete


            项目几乎都是前后端分离
            前端：搭页面，做交互
            后端：数据库的存储操作，接口的书写，服务器的部署  
            
            
            restfull API 接口规范
            是现在目前最流行的书写后端接口的一个规范
            资源化
            每个数据都会被看做是一个资源，对于每一个资源来说操作数据库有4种情况：增删改查
            后端人员对数据库的每个操作，对应前端人员ajax的4个请求
            get：调用接口 查询数据资源
            post: 调用接口 添加数据资源
            put：调用接口 修改数据资源
            delete: 调用接口 删除数据资源
        */
  

        //axios掌握好不好，关键是三种参数分的清不清
        //params ： 参数是路径的一部分，并且这个参数只能在url路径当中出现
        //query ： 查询参数，这个参数可以出现在url当中，也可以在配置项中配置，query参数不属于路径的一部分
                 //配置项是 ： params
        //body请求体参数
                 //通常用在post 和put当中，只能在配置对象中配置
                 //配置项：data，是一个对象 
       
       
        //函数写法
        axios({
            //配置对象
            // url:'https://api.github.com/search/repositories?q=v&sort=stars',
            url:'https://api.github.com/search/repositories',
            method:'GET',
            //query参数
            params:{
                q:'v',
                sort:'stars'
            }
        })
        .then(response => {
            console.log(response);
        })
        .catch(error=>{
            console.log(error);
            return new Promise(()=>{})
        })


        //对象写法
        //请求方式是对象的方法名
        //第一个参数都代表url（params和query都可以直接写在url中，最简洁）
            //query也可以由第二个参数配置项来配置,{params:{..}}
        //第二个参数
            //如果是post 和 put，第二个参数直接传一个对象，里面就是请求体参数
            //如果是get 和delete，第二个参数是配置对象
        
        // axios.get('https://api.github.com/search/repositories',{params:{q:'v',sort:'stars'}})
        // axios.get('https://api.github.com/search/repositories?q=v&sort=stars')
        // axios.post('https://api.github.com/search/repositories?q=v&sort=stars',{请求体参数})
        
   </script>
</body>
</html>